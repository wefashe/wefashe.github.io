<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker 安装 Oracle 和 Nginx | Yuzi's Blog</title>
<meta name=keywords content="Docker,Oracle,Nginx"><meta name=description content="前言
Linux 安装 Oracle 太麻烦了，还需要去官网下载，官网下载需要登录 Oracle 账号，下载后还需要上传安装，而使用 Docker 安装更简单，下面就是整个安装过程。
更新 Yum 源


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19


# 备份原有Yum源
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup

# 选择和配置新的Yum源

# 阿里云镜像源
curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
# 网易镜像源
# curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS-Base.repo # 清华大学镜像源
# curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.tuna.tsinghua.edu.cn/help/centos/7/.repo

# 更新Yum缓存
# 清除旧的缓存并生成新的缓存，以确保Yum能够正确识别新的源
yum clean all
yum makecache

# 测试Yum源
# 正常显示软件包列表，说明Yum源配置成功
yum list


Docker的安装
安装Docker"><meta name=author content="wefashe"><link rel=canonical href=https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/><link crossorigin=anonymous href=/assets/css/stylesheet.fbbd331f1dd2c4ce8ca5255528a5239e646514838aec0be886f87713025d889c.css integrity="sha256-+70zHx3SxM6MpSVVKKUjnmRlFIOK7Avohvh3EwJdiJw=" rel="preload stylesheet" as=style><link rel=icon href=https://wefashe.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wefashe.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wefashe.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wefashe.github.io/favicon/apple-touch-icon.png><link rel=mask-icon href=https://wefashe.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Noto+Sans+SC:wght@100..900&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><meta property="og:url" content="https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/"><meta property="og:site_name" content="Yuzi's Blog"><meta property="og:title" content="Docker 安装 Oracle 和 Nginx"><meta property="og:description" content="前言
Linux 安装 Oracle 太麻烦了，还需要去官网下载，官网下载需要登录 Oracle 账号，下载后还需要上传安装，而使用 Docker 安装更简单，下面就是整个安装过程。
更新 Yum 源 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 备份原有Yum源 mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup # 选择和配置新的Yum源 # 阿里云镜像源 curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo # 网易镜像源 # curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS-Base.repo # 清华大学镜像源 # curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.tuna.tsinghua.edu.cn/help/centos/7/.repo # 更新Yum缓存 # 清除旧的缓存并生成新的缓存，以确保Yum能够正确识别新的源 yum clean all yum makecache # 测试Yum源 # 正常显示软件包列表，说明Yum源配置成功 yum list Docker的安装 安装Docker"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:tag" content="Docker"><meta property="article:tag" content="Oracle"><meta property="article:tag" content="Nginx"><meta property="og:image" content="https://i.postimg.cc/7hwBy7VS/calcr.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://i.postimg.cc/7hwBy7VS/calcr.png"><meta name=twitter:title content="Docker 安装 Oracle 和 Nginx"><meta name=twitter:description content="前言
Linux 安装 Oracle 太麻烦了，还需要去官网下载，官网下载需要登录 Oracle 账号，下载后还需要上传安装，而使用 Docker 安装更简单，下面就是整个安装过程。
更新 Yum 源


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19


# 备份原有Yum源
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup

# 选择和配置新的Yum源

# 阿里云镜像源
curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
# 网易镜像源
# curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS-Base.repo # 清华大学镜像源
# curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.tuna.tsinghua.edu.cn/help/centos/7/.repo

# 更新Yum缓存
# 清除旧的缓存并生成新的缓存，以确保Yum能够正确识别新的源
yum clean all
yum makecache

# 测试Yum源
# 正常显示软件包列表，说明Yum源配置成功
yum list


Docker的安装
安装Docker"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wefashe.github.io/post/"},{"@type":"ListItem","position":2,"name":"Docker 安装 Oracle 和 Nginx","item":"https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker 安装 Oracle 和 Nginx","name":"Docker 安装 Oracle 和 Nginx","description":"前言\nLinux 安装 Oracle 太麻烦了，还需要去官网下载，官网下载需要登录 Oracle 账号，下载后还需要上传安装，而使用 Docker 安装更简单，下面就是整个安装过程。\n更新 Yum 源 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 备份原有Yum源 mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup # 选择和配置新的Yum源 # 阿里云镜像源 curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo # 网易镜像源 # curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS-Base.repo # 清华大学镜像源 # curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.tuna.tsinghua.edu.cn/help/centos/7/.repo # 更新Yum缓存 # 清除旧的缓存并生成新的缓存，以确保Yum能够正确识别新的源 yum clean all yum makecache # 测试Yum源 # 正常显示软件包列表，说明Yum源配置成功 yum list Docker的安装 安装Docker\n","keywords":["Docker","Oracle","Nginx"],"articleBody":"前言\nLinux 安装 Oracle 太麻烦了，还需要去官网下载，官网下载需要登录 Oracle 账号，下载后还需要上传安装，而使用 Docker 安装更简单，下面就是整个安装过程。\n更新 Yum 源 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 备份原有Yum源 mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup # 选择和配置新的Yum源 # 阿里云镜像源 curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo # 网易镜像源 # curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS-Base.repo # 清华大学镜像源 # curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.tuna.tsinghua.edu.cn/help/centos/7/.repo # 更新Yum缓存 # 清除旧的缓存并生成新的缓存，以确保Yum能够正确识别新的源 yum clean all yum makecache # 测试Yum源 # 正常显示软件包列表，说明Yum源配置成功 yum list Docker的安装 安装Docker\n1 2 3 4 5 6 7 8 #安装Docker所需的依赖包 yum install -y yum-utils device-mapper-persistent-data lvm2 #添加Docker的Yum仓库地址为阿里云镜像站点，用于获取Docker软件包 yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo #安装指定版本的Docker软件包 yum -y install docker-ce-18.03.1.ce #检测是否成功 docker version 启动 Docker\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # 启动 Docker systemctl start docker # 停止docker # systemctl stop docker # 重启docker # systemctl restart docker # 查看 Docker 状态 # active 说明 Docker 已经启动 systemctl status docker # 开机启动 Docker systemctl enable docker # 关闭开机启动 # systemctl disable docker Docker 国内可用镜像源仓库地址配置\nLinux 用户，需要手动修改 Docker 的配置文件来添加镜像源\n打开配置文件 vi /etc/docker/daemon.json（如果没有该文件，可以新建一个）\n将以下内容粘贴进去：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 { \"registry-mirrors\": [ \"https://docker.hpcloud.cloud\", \"https://docker.m.daocloud.io\", \"https://docker.unsee.tech\", \"https://docker.1panel.live\", \"http://mirrors.ustc.edu.cn\", \"https://docker.chenby.cn\", \"http://mirror.azure.cn\", \"https://dockerpull.org\", \"https://dockerhub.icu\", \"https://hub.rat.dev\" ] } 保存文件后，重新启动 Docker 服务\n1 2 3 4 5 6 7 8 9 # 加载配置 systemctl daemon-reload # 重启docker服务 systemctl restart docker # 测试配置效果 # 如果输出显示配置的镜像源地址，说明设置成功！ docker info Oracle 的安装 获取镜像\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g # 或者 docker pull registry.aliyuncs.com/helowin/oracle_11g # 查看下载 docker images # 查看磁盘空间占用情况 # df -h # 查看 Docker 容器、镜像、卷等资源的占用情况 # docker system df # 清理, 支持同时删除多个， 添加 -f 参数表示强制删除 # docker rmi # 清理所有废弃镜像与Build Cache # docker system prune -a 运行镜像\n1 2 3 4 5 6 7 8 9 10 docker run -itd -p 1521:1521 --name oracle --restart=always --mount source=oracle_vol,target=/home/oracle/app/oracle/oradata -e ORACLE_HOME=/home/oracle/app/oracle/product/11.2.0/dbhome_2 -e ORACLE_SID=helowin registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g:latest # 检查镜像是否启动成功，添加 -a 参数 ，可以列出停止的镜像 docker ps # 停止镜像 # docker stop # 重启镜像 # docker restart ","wordCount":"826","inLanguage":"zh","image":"https://i.postimg.cc/7hwBy7VS/calcr.png","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"wefashe"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/"},"publisher":{"@type":"Organization","name":"Yuzi's Blog","logo":{"@type":"ImageObject","url":"https://wefashe.github.io/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wefashe.github.io/ accesskey=h title="Yuzi's Blog (Alt + H)">Yuzi's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wefashe.github.io/ title="Yuzi's Blog"><span><i class='fa fa-home'></i>首页</span></a></li><li><a href=https://wefashe.github.io/archives/ title=归档><span><i class='fa fa-history'></i>归档</span></a></li><li><a href=https://wefashe.github.io/tags/ title=标签><span><i class='fa fa-tags'></i>标签</span></a></li><li><a href=https://wefashe.github.io/search/ title=搜索><span><i class='fa fa-search'></i>搜索</span></a></li><li><a href=https://wefashe.github.io/about/ title=关于><span><i class='fa fa-info-circle'></i>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Docker 安装 Oracle 和 Nginx</h1><div class=post-meta>2 分钟&nbsp;·&nbsp;826 字&nbsp;·&nbsp;wefashe</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e6%9b%b4%e6%96%b0-yum-%e6%ba%90 aria-label="更新 Yum 源">更新 Yum 源</a></li><li><a href=#docker%e7%9a%84%e5%ae%89%e8%a3%85 aria-label=Docker的安装>Docker的安装</a></li><li><a href=#oracle-%e7%9a%84%e5%ae%89%e8%a3%85 aria-label="Oracle 的安装">Oracle 的安装</a></li></ul></div></details></div><div class=post-content><p><strong>前言</strong></p><p><code>Linux</code> 安装 <code>Oracle</code> 太麻烦了，还需要去官网<a href=http://www.oracle.com/technetwork/indexes/downloads/index.html#database>下载</a>，官网下载需要登录 <code>Oracle</code> 账号，下载后还需要上传安装，而使用 <code>Docker</code> 安装更简单，下面就是整个安装过程。</p><h2 id=更新-yum-源>更新 Yum 源<a hidden class=anchor aria-hidden=true href=#更新-yum-源>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 备份原有Yum源</span>
</span></span><span class=line><span class=cl>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 选择和配置新的Yum源</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 阿里云镜像源</span>
</span></span><span class=line><span class=cl>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
</span></span><span class=line><span class=cl><span class=c1># 网易镜像源</span>
</span></span><span class=line><span class=cl><span class=c1># curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS-Base.repo # 清华大学镜像源</span>
</span></span><span class=line><span class=cl><span class=c1># curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.tuna.tsinghua.edu.cn/help/centos/7/.repo</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 更新Yum缓存</span>
</span></span><span class=line><span class=cl><span class=c1># 清除旧的缓存并生成新的缓存，以确保Yum能够正确识别新的源</span>
</span></span><span class=line><span class=cl>yum clean all
</span></span><span class=line><span class=cl>yum makecache
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 测试Yum源</span>
</span></span><span class=line><span class=cl><span class=c1># 正常显示软件包列表，说明Yum源配置成功</span>
</span></span><span class=line><span class=cl>yum list
</span></span></code></pre></td></tr></table></div></div><h2 id=docker的安装>Docker的安装<a hidden class=anchor aria-hidden=true href=#docker的安装>#</a></h2><p><strong>安装Docker</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1>#安装Docker所需的依赖包</span>
</span></span><span class=line><span class=cl>yum install -y yum-utils device-mapper-persistent-data lvm2
</span></span><span class=line><span class=cl><span class=c1>#添加Docker的Yum仓库地址为阿里云镜像站点，用于获取Docker软件包</span>
</span></span><span class=line><span class=cl>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</span></span><span class=line><span class=cl><span class=c1>#安装指定版本的Docker软件包</span>
</span></span><span class=line><span class=cl>yum -y install docker-ce-18.03.1.ce 
</span></span><span class=line><span class=cl><span class=c1>#检测是否成功</span>
</span></span><span class=line><span class=cl>docker version
</span></span></code></pre></td></tr></table></div></div><p><strong>启动 Docker</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 启动 Docker</span>
</span></span><span class=line><span class=cl>systemctl start docker
</span></span><span class=line><span class=cl><span class=c1># 停止docker</span>
</span></span><span class=line><span class=cl><span class=c1># systemctl stop docker</span>
</span></span><span class=line><span class=cl><span class=c1># 重启docker</span>
</span></span><span class=line><span class=cl><span class=c1># systemctl restart docker</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看 Docker 状态</span>
</span></span><span class=line><span class=cl><span class=c1># active 说明 Docker 已经启动</span>
</span></span><span class=line><span class=cl>systemctl status docker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 开机启动 Docker</span>
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> docker
</span></span><span class=line><span class=cl><span class=c1># 关闭开机启动</span>
</span></span><span class=line><span class=cl><span class=c1># systemctl disable docker</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Docker 国内可用镜像源仓库地址配置</strong></p><p>Linux 用户，需要手动修改 Docker 的配置文件来添加镜像源</p><p>打开配置文件 <code>vi /etc/docker/daemon.json</code>（如果没有该文件，可以新建一个）</p><p>将以下内容粘贴进去：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;registry-mirrors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://docker.hpcloud.cloud&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://docker.m.daocloud.io&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://docker.unsee.tech&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://docker.1panel.live&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://mirrors.ustc.edu.cn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://docker.chenby.cn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://mirror.azure.cn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://dockerpull.org&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://dockerhub.icu&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;https://hub.rat.dev&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>保存文件后，重新启动 <code>Docker</code> 服务</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 加载配置</span>
</span></span><span class=line><span class=cl>systemctl daemon-reload
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 重启docker服务</span>
</span></span><span class=line><span class=cl>systemctl restart docker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 测试配置效果</span>
</span></span><span class=line><span class=cl><span class=c1># 如果输出显示配置的镜像源地址，说明设置成功！</span>
</span></span><span class=line><span class=cl>docker info
</span></span></code></pre></td></tr></table></div></div><h2 id=oracle-的安装>Oracle 的安装<a hidden class=anchor aria-hidden=true href=#oracle-的安装>#</a></h2><p><strong>获取镜像</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g
</span></span><span class=line><span class=cl><span class=c1># 或者 docker pull registry.aliyuncs.com/helowin/oracle_11g</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看下载</span>
</span></span><span class=line><span class=cl>docker images
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看磁盘空间占用情况</span>
</span></span><span class=line><span class=cl><span class=c1># df -h</span>
</span></span><span class=line><span class=cl><span class=c1># 查看 Docker 容器、镜像、卷等资源的占用情况</span>
</span></span><span class=line><span class=cl><span class=c1># docker system df</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 清理, 支持同时删除多个， 添加 -f 参数表示强制删除</span>
</span></span><span class=line><span class=cl><span class=c1># docker rmi &lt;IMAGE ID&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># 清理所有废弃镜像与Build Cache</span>
</span></span><span class=line><span class=cl><span class=c1># docker system prune -a</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>运行镜像</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>docker run -itd -p 1521:1521 --name oracle --restart<span class=o>=</span>always --mount <span class=nv>source</span><span class=o>=</span>oracle_vol,target<span class=o>=</span>/home/oracle/app/oracle/oradata -e <span class=nv>ORACLE_HOME</span><span class=o>=</span>/home/oracle/app/oracle/product/11.2.0/dbhome_2 -e <span class=nv>ORACLE_SID</span><span class=o>=</span>helowin registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g:latest
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查镜像是否启动成功，添加 -a 参数 ，可以列出停止的镜像</span>
</span></span><span class=line><span class=cl>docker ps
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 停止镜像</span>
</span></span><span class=line><span class=cl><span class=c1># docker stop &lt;CONTAINER ID&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 重启镜像</span>
</span></span><span class=line><span class=cl><span class=c1># docker restart &lt;CONTAINER ID&gt;</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=pe-copyright><span>本文结束 <i class='fa fa-paw'></i> 感谢阅读</span><hr><blockquote><p>本文为原创内容，版权归作者所有。如需转载，请在文章中声明本文标题及链接。</p><p>本文标题：Docker 安装 Oracle 和 Nginx</p><p>本文作者：wefashe</p><p>文章链接：<a href=https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/ target=_blank>https://wefashe.github.io/post/docker%E5%AE%89%E8%A3%85oracle%E5%92%8Cnginx/</a></p><p>许可协议：<a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://wefashe.github.io/tags/docker/>Docker</a></li><li><a href=https://wefashe.github.io/tags/oracle/>Oracle</a></li><li><a href=https://wefashe.github.io/tags/nginx/>Nginx</a></li></ul><nav class=paginav><a class=prev href=https://wefashe.github.io/post/hello-world/><span class=title>« 上一页</span><br><span>Hello World</span>
</a><a class=next href=https://wefashe.github.io/post/%E6%9D%AD%E5%B7%9E%E8%B4%AD%E6%88%BF%E6%8C%87%E5%8D%97/><span class=title>下一页 »</span><br><span>杭州购房指南</span></a></nav></footer><div class=comments-title id=tw-comment-title><p class=x-comments-title>欢迎来到评论区</p><p style=font-size:1rem>感谢您的耐心阅读！来选个表情，或者留个评论吧！</p></div><div id=tw-comment></div><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const s={src:"https://giscus.app/client.js","data-repo":"wefashe/wefashe.github.io","data-repo-id":"R_kgDONjsPLA","data-category":"Announcements","data-category-id":"DIC_kwDONjsPLM4Clmtz","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"zh-CN","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(s).forEach(([t,n])=>e.setAttribute(t,n)),document.querySelector("#tw-comment").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme);const n=document.querySelector("#theme-toggle-float");n&&n.addEventListener("click",setGiscusTheme)})</script></article></main><footer class=footer><span>©2024 <a href=https://wefashe.github.io/>wefashe</a></span> ·
<span><a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div id=runtime_span></div><script type=text/javascript>function show_runtime(){window.setTimeout("show_runtime()",1e3),X=new Date("12/20/2024 9:00:00"),Y=new Date,T=Y.getTime()-X.getTime(),M=24*60*60*1e3,a=T/M,A=Math.floor(a),b=(a-A)*24,B=Math.floor(b),c=(b-B)*60,C=Math.floor((b-B)*60),D=Math.floor((c-C)*60),runtime_span.innerHTML="网站已运行"+A+"天"+B+"小时"+C+"分"+D+"秒"}show_runtime()</script></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><style>.code-toolbar{display:flex;justify-content:space-between;align-items:center;padding:5px 10px;background:#232323;border-top-left-radius:5px;border-top-right-radius:5px;font-size:.8em;position:relative}.mac-dots{width:12px;height:12px;border-radius:50%;background-color:#ff5f56;box-shadow:20px 0 #ffbd2e,40px 0 #27c93f;margin-right:5px}.lang-label{flex-grow:1;text-align:center;margin:0 5px;color:rgba(255,255,255,.8)}.toolbar-group{display:flex;align-items:center}.expand-button,.copy-code{background:0 0;border:none;cursor:pointer;padding:0 5px}.highlight{position:relative}.highlight.collapsible{max-height:300px;overflow:hidden}.highlight.expanded{max-height:none}.highlight pre{margin-bottom:0}.expand-button{position:absolute;bottom:0;left:50%;transform:translateX(-50%);background-color:transparent;padding:5px 10px;border-radius:5px 5px 0 0;display:none;height:30px;&:hover { background:rgba(255,255,255,.1); color:#fff; }}.highlight.collapsible .expand-button{display:block}.highlight table{margin-bottom:0}.post-content pre code{overflow-x:auto;overflow-y:hidden}</style><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".highlight"),t=parseInt("300px");e.forEach(e=>{const o=e.querySelector("pre"),n=o.querySelector("code");let i=!1;if((!0||!0)&&(i=!0),i){{const t=document.createElement("div");t.classList.add("code-toolbar"),e.insertBefore(t,e.firstChild);const i=document.createElement("div");i.classList.add("toolbar-group"),t.appendChild(i);const o=document.createElement("div");if(o.classList.add("toolbar-group"),t.appendChild(o),!0){const e=document.createElement("div");e.classList.add("mac-dots"),i.appendChild(e)}if(!0){let n="";const s=[e,e.querySelector("code"),e.querySelector("pre > code"),e.querySelector("pre"),e.querySelector("td:nth-child(2) code")];for(const e of s)if(e&&e.className){const t=e.className.split(" ").find(e=>e.startsWith("language-"));if(t){n=t.replace("language-","");break}}if(n){const e=document.createElement("div");e.classList.add("lang-label"),e.textContent=n,t.insertBefore(e,o)}}if(!0){const e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="复制",o.appendChild(e),e.addEventListener("click",()=>{let t=n.textContent;if(n.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"&&(t=Array.from(n.parentNode.parentNode.parentNode.querySelectorAll("td:nth-child(2)")).map(e=>e.textContent).join(`
`)),"clipboard"in navigator){navigator.clipboard.writeText(t),s();return}const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy"),s()}catch{}document.body.removeChild(e)});function s(){e.innerHTML="已复制！",setTimeout(()=>{e.innerHTML="复制"},2e3)}}}}else if(!0){const t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制",e.classList.contains("highlight")?e.appendChild(t):e.parentNode.firstChild==e||(n.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?n.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):n.parentNode.appendChild(t)),t.addEventListener("click",()=>{let t=n.textContent;if(n.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"&&(t=Array.from(n.parentNode.parentNode.parentNode.querySelectorAll("td:nth-child(2)")).map(e=>e.textContent).join(`
`)),"clipboard"in navigator){navigator.clipboard.writeText(t),s();return}const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy"),s()}catch{}document.body.removeChild(e)});function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}}if(!0){const n=document.createElement("button");n.classList.add("expand-button"),n.innerHTML="&#9660;",e.appendChild(n),o.offsetHeight>t&&(e.classList.add("collapsible"),n.style.display="block",n.addEventListener("click",()=>{e.classList.toggle("expanded"),n.innerHTML=e.classList.contains("expanded")?"&#9650;":"&#9660;"}))}})})</script></body></html>